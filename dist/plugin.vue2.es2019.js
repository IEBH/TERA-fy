var Tr=Object.defineProperty;var Or=(t,e,r)=>e in t?Tr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Q=(t,e,r)=>Or(t,typeof e!="symbol"?e+"":e,r);var Ar=typeof global=="object"&&global&&global.Object===Object&&global,tt=Ar;var _r=typeof self=="object"&&self&&self.Object===Object&&self,Sr=tt||_r||Function("return this")(),m=Sr;var Ir=m.Symbol,j=Ir;var Nt=Object.prototype,wr=Nt.hasOwnProperty,Pr=Nt.toString,J=j?j.toStringTag:void 0;function Cr(t){var e=wr.call(t,J),r=t[J];try{t[J]=void 0;var o=!0}catch{}var a=Pr.call(t);return o&&(e?t[J]=r:delete t[J]),a}var Ft=Cr;var Er=Object.prototype,Lr=Er.toString;function Br(t){return Lr.call(t)}var Dt=Br;var Mr="[object Null]",Nr="[object Undefined]",Rt=j?j.toStringTag:void 0;function Fr(t){return t==null?t===void 0?Nr:Mr:Rt&&Rt in Object(t)?Ft(t):Dt(t)}var h=Fr;function Dr(t){return t!=null&&typeof t=="object"}var x=Dr;var Rr="[object Symbol]";function Wr(t){return typeof t=="symbol"||x(t)&&h(t)==Rr}var Wt=Wr;var Ur=Array.isArray,M=Ur;var Gr=/\s/;function Vr(t){for(var e=t.length;e--&&Gr.test(t.charAt(e)););return e}var Ut=Vr;var Kr=/^\s+/;function kr(t){return t&&t.slice(0,Ut(t)+1).replace(Kr,"")}var Gt=kr;function zr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var c=zr;var Vt=NaN,qr=/^[-+]0x[0-9a-f]+$/i,Hr=/^0b[01]+$/i,$r=/^0o[0-7]+$/i,Jr=parseInt;function Xr(t){if(typeof t=="number")return t;if(Wt(t))return Vt;if(c(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=c(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Gt(t);var r=Hr.test(t);return r||$r.test(t)?Jr(t.slice(2),r?2:8):qr.test(t)?Vt:+t}var At=Xr;var Yr="[object AsyncFunction]",Zr="[object Function]",Qr="[object GeneratorFunction]",to="[object Proxy]";function eo(t){if(!c(t))return!1;var e=h(t);return e==Zr||e==Qr||e==Yr||e==to}var et=eo;var ro=m["__core-js_shared__"],rt=ro;var Kt=function(){var t=/[^.]+$/.exec(rt&&rt.keys&&rt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function oo(t){return!!Kt&&Kt in t}var kt=oo;var ao=Function.prototype,fo=ao.toString;function so(t){if(t!=null){try{return fo.call(t)}catch{}try{return t+""}catch{}}return""}var T=so;var io=/[\\^$.*+?()[\]{}|]/g,no=/^\[object .+?Constructor\]$/,po=Function.prototype,uo=Object.prototype,mo=po.toString,lo=uo.hasOwnProperty,co=RegExp("^"+mo.call(lo).replace(io,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xo(t){if(!c(t)||kt(t))return!1;var e=et(t)?co:no;return e.test(T(t))}var zt=xo;function go(t,e){return t==null?void 0:t[e]}var qt=go;function ho(t,e){var r=qt(t,e);return zt(r)?r:void 0}var g=ho;var bo=g(m,"WeakMap"),ot=bo;var Ht=Object.create,yo=function(){function t(){}return function(e){if(!c(e))return{};if(Ht)return Ht(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),$t=yo;function vo(t,e){var r=-1,o=t.length;for(e||(e=Array(o));++r<o;)e[r]=t[r];return e}var Jt=vo;var jo=function(){try{var t=g(Object,"defineProperty");return t({},"",{}),t}catch{}}(),_t=jo;function To(t,e){for(var r=-1,o=t==null?0:t.length;++r<o&&e(t[r],r,t)!==!1;);return t}var Xt=To;var Oo=9007199254740991,Ao=/^(?:0|[1-9]\d*)$/;function _o(t,e){var r=typeof t;return e=e==null?Oo:e,!!e&&(r=="number"||r!="symbol"&&Ao.test(t))&&t>-1&&t%1==0&&t<e}var Yt=_o;function So(t,e,r){e=="__proto__"&&_t?_t(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var at=So;function Io(t,e){return t===e||t!==t&&e!==e}var ft=Io;var wo=Object.prototype,Po=wo.hasOwnProperty;function Co(t,e,r){var o=t[e];(!(Po.call(t,e)&&ft(o,r))||r===void 0&&!(e in t))&&at(t,e,r)}var st=Co;function Eo(t,e,r,o){var a=!r;r||(r={});for(var f=-1,s=e.length;++f<s;){var i=e[f],u=o?o(r[i],t[i],i,r,t):void 0;u===void 0&&(u=t[i]),a?at(r,i,u):st(r,i,u)}return r}var S=Eo;var Lo=9007199254740991;function Bo(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Lo}var it=Bo;function Mo(t){return t!=null&&it(t.length)&&!et(t)}var nt=Mo;var No=Object.prototype;function Fo(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||No;return t===r}var N=Fo;function Do(t,e){for(var r=-1,o=Array(t);++r<t;)o[r]=e(r);return o}var Zt=Do;var Ro="[object Arguments]";function Wo(t){return x(t)&&h(t)==Ro}var St=Wo;var Qt=Object.prototype,Uo=Qt.hasOwnProperty,Go=Qt.propertyIsEnumerable,Vo=St(function(){return arguments}())?St:function(t){return x(t)&&Uo.call(t,"callee")&&!Go.call(t,"callee")},te=Vo;function Ko(){return!1}var ee=Ko;var ae=typeof exports=="object"&&exports&&!exports.nodeType&&exports,re=ae&&typeof module=="object"&&module&&!module.nodeType&&module,ko=re&&re.exports===ae,oe=ko?m.Buffer:void 0,zo=oe?oe.isBuffer:void 0,qo=zo||ee,pt=qo;var Ho="[object Arguments]",$o="[object Array]",Jo="[object Boolean]",Xo="[object Date]",Yo="[object Error]",Zo="[object Function]",Qo="[object Map]",ta="[object Number]",ea="[object Object]",ra="[object RegExp]",oa="[object Set]",aa="[object String]",fa="[object WeakMap]",sa="[object ArrayBuffer]",ia="[object DataView]",na="[object Float32Array]",pa="[object Float64Array]",ua="[object Int8Array]",ma="[object Int16Array]",la="[object Int32Array]",da="[object Uint8Array]",ca="[object Uint8ClampedArray]",xa="[object Uint16Array]",ga="[object Uint32Array]",p={};p[na]=p[pa]=p[ua]=p[ma]=p[la]=p[da]=p[ca]=p[xa]=p[ga]=!0;p[Ho]=p[$o]=p[sa]=p[Jo]=p[ia]=p[Xo]=p[Yo]=p[Zo]=p[Qo]=p[ta]=p[ea]=p[ra]=p[oa]=p[aa]=p[fa]=!1;function ha(t){return x(t)&&it(t.length)&&!!p[h(t)]}var fe=ha;function ba(t){return function(e){return t(e)}}var F=ba;var se=typeof exports=="object"&&exports&&!exports.nodeType&&exports,X=se&&typeof module=="object"&&module&&!module.nodeType&&module,ya=X&&X.exports===se,It=ya&&tt.process,va=function(){try{var t=X&&X.require&&X.require("util").types;return t||It&&It.binding&&It.binding("util")}catch{}}(),O=va;var ie=O&&O.isTypedArray,ja=ie?F(ie):fe,ne=ja;var Ta=Object.prototype,Oa=Ta.hasOwnProperty;function Aa(t,e){var r=M(t),o=!r&&te(t),a=!r&&!o&&pt(t),f=!r&&!o&&!a&&ne(t),s=r||o||a||f,i=s?Zt(t.length,String):[],u=i.length;for(var d in t)(e||Oa.call(t,d))&&!(s&&(d=="length"||a&&(d=="offset"||d=="parent")||f&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Yt(d,u)))&&i.push(d);return i}var ut=Aa;function _a(t,e){return function(r){return t(e(r))}}var mt=_a;var Sa=mt(Object.keys,Object),pe=Sa;var Ia=Object.prototype,wa=Ia.hasOwnProperty;function Pa(t){if(!N(t))return pe(t);var e=[];for(var r in Object(t))wa.call(t,r)&&r!="constructor"&&e.push(r);return e}var ue=Pa;function Ca(t){return nt(t)?ut(t):ue(t)}var D=Ca;function Ea(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var me=Ea;var La=Object.prototype,Ba=La.hasOwnProperty;function Ma(t){if(!c(t))return me(t);var e=N(t),r=[];for(var o in t)o=="constructor"&&(e||!Ba.call(t,o))||r.push(o);return r}var le=Ma;function Na(t){return nt(t)?ut(t,!0):le(t)}var R=Na;var Fa=g(Object,"create"),A=Fa;function Da(){this.__data__=A?A(null):{},this.size=0}var de=Da;function Ra(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ce=Ra;var Wa="__lodash_hash_undefined__",Ua=Object.prototype,Ga=Ua.hasOwnProperty;function Va(t){var e=this.__data__;if(A){var r=e[t];return r===Wa?void 0:r}return Ga.call(e,t)?e[t]:void 0}var xe=Va;var Ka=Object.prototype,ka=Ka.hasOwnProperty;function za(t){var e=this.__data__;return A?e[t]!==void 0:ka.call(e,t)}var ge=za;var qa="__lodash_hash_undefined__";function Ha(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=A&&e===void 0?qa:e,this}var he=Ha;function W(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}W.prototype.clear=de;W.prototype.delete=ce;W.prototype.get=xe;W.prototype.has=ge;W.prototype.set=he;var wt=W;function $a(){this.__data__=[],this.size=0}var be=$a;function Ja(t,e){for(var r=t.length;r--;)if(ft(t[r][0],e))return r;return-1}var I=Ja;var Xa=Array.prototype,Ya=Xa.splice;function Za(t){var e=this.__data__,r=I(e,t);if(r<0)return!1;var o=e.length-1;return r==o?e.pop():Ya.call(e,r,1),--this.size,!0}var ye=Za;function Qa(t){var e=this.__data__,r=I(e,t);return r<0?void 0:e[r][1]}var ve=Qa;function tf(t){return I(this.__data__,t)>-1}var je=tf;function ef(t,e){var r=this.__data__,o=I(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}var Te=ef;function U(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}U.prototype.clear=be;U.prototype.delete=ye;U.prototype.get=ve;U.prototype.has=je;U.prototype.set=Te;var w=U;var rf=g(m,"Map"),P=rf;function of(){this.size=0,this.__data__={hash:new wt,map:new(P||w),string:new wt}}var Oe=of;function af(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Ae=af;function ff(t,e){var r=t.__data__;return Ae(e)?r[typeof e=="string"?"string":"hash"]:r.map}var C=ff;function sf(t){var e=C(this,t).delete(t);return this.size-=e?1:0,e}var _e=sf;function nf(t){return C(this,t).get(t)}var Se=nf;function pf(t){return C(this,t).has(t)}var Ie=pf;function uf(t,e){var r=C(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}var we=uf;function G(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}G.prototype.clear=Oe;G.prototype.delete=_e;G.prototype.get=Se;G.prototype.has=Ie;G.prototype.set=we;var Pe=G;function mf(t,e){for(var r=-1,o=e.length,a=t.length;++r<o;)t[a+r]=e[r];return t}var lt=mf;var lf=mt(Object.getPrototypeOf,Object),V=lf;var df="[object Object]",cf=Function.prototype,xf=Object.prototype,Ce=cf.toString,gf=xf.hasOwnProperty,hf=Ce.call(Object);function bf(t){if(!x(t)||h(t)!=df)return!1;var e=V(t);if(e===null)return!0;var r=gf.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Ce.call(r)==hf}var Pt=bf;function yf(){this.__data__=new w,this.size=0}var Ee=yf;function vf(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var Le=vf;function jf(t){return this.__data__.get(t)}var Be=jf;function Tf(t){return this.__data__.has(t)}var Me=Tf;var Of=200;function Af(t,e){var r=this.__data__;if(r instanceof w){var o=r.__data__;if(!P||o.length<Of-1)return o.push([t,e]),this.size=++r.size,this;r=this.__data__=new Pe(o)}return r.set(t,e),this.size=r.size,this}var Ne=Af;function K(t){var e=this.__data__=new w(t);this.size=e.size}K.prototype.clear=Ee;K.prototype.delete=Le;K.prototype.get=Be;K.prototype.has=Me;K.prototype.set=Ne;var Fe=K;function _f(t,e){return t&&S(e,D(e),t)}var De=_f;function Sf(t,e){return t&&S(e,R(e),t)}var Re=Sf;var Ve=typeof exports=="object"&&exports&&!exports.nodeType&&exports,We=Ve&&typeof module=="object"&&module&&!module.nodeType&&module,If=We&&We.exports===Ve,Ue=If?m.Buffer:void 0,Ge=Ue?Ue.allocUnsafe:void 0;function wf(t,e){if(e)return t.slice();var r=t.length,o=Ge?Ge(r):new t.constructor(r);return t.copy(o),o}var Ke=wf;function Pf(t,e){for(var r=-1,o=t==null?0:t.length,a=0,f=[];++r<o;){var s=t[r];e(s,r,t)&&(f[a++]=s)}return f}var ke=Pf;function Cf(){return[]}var dt=Cf;var Ef=Object.prototype,Lf=Ef.propertyIsEnumerable,ze=Object.getOwnPropertySymbols,Bf=ze?function(t){return t==null?[]:(t=Object(t),ke(ze(t),function(e){return Lf.call(t,e)}))}:dt,k=Bf;function Mf(t,e){return S(t,k(t),e)}var qe=Mf;var Nf=Object.getOwnPropertySymbols,Ff=Nf?function(t){for(var e=[];t;)lt(e,k(t)),t=V(t);return e}:dt,ct=Ff;function Df(t,e){return S(t,ct(t),e)}var He=Df;function Rf(t,e,r){var o=e(t);return M(t)?o:lt(o,r(t))}var xt=Rf;function Wf(t){return xt(t,D,k)}var $e=Wf;function Uf(t){return xt(t,R,ct)}var Je=Uf;var Gf=g(m,"DataView"),gt=Gf;var Vf=g(m,"Promise"),ht=Vf;var Kf=g(m,"Set"),bt=Kf;var Xe="[object Map]",kf="[object Object]",Ye="[object Promise]",Ze="[object Set]",Qe="[object WeakMap]",tr="[object DataView]",zf=T(gt),qf=T(P),Hf=T(ht),$f=T(bt),Jf=T(ot),E=h;(gt&&E(new gt(new ArrayBuffer(1)))!=tr||P&&E(new P)!=Xe||ht&&E(ht.resolve())!=Ye||bt&&E(new bt)!=Ze||ot&&E(new ot)!=Qe)&&(E=function(t){var e=h(t),r=e==kf?t.constructor:void 0,o=r?T(r):"";if(o)switch(o){case zf:return tr;case qf:return Xe;case Hf:return Ye;case $f:return Ze;case Jf:return Qe}return e});var z=E;var Xf=Object.prototype,Yf=Xf.hasOwnProperty;function Zf(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Yf.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var er=Zf;var Qf=m.Uint8Array,Ct=Qf;function ts(t){var e=new t.constructor(t.byteLength);return new Ct(e).set(new Ct(t)),e}var q=ts;function es(t,e){var r=e?q(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var rr=es;var rs=/\w*$/;function os(t){var e=new t.constructor(t.source,rs.exec(t));return e.lastIndex=t.lastIndex,e}var or=os;var ar=j?j.prototype:void 0,fr=ar?ar.valueOf:void 0;function as(t){return fr?Object(fr.call(t)):{}}var sr=as;function fs(t,e){var r=e?q(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var ir=fs;var ss="[object Boolean]",is="[object Date]",ns="[object Map]",ps="[object Number]",us="[object RegExp]",ms="[object Set]",ls="[object String]",ds="[object Symbol]",cs="[object ArrayBuffer]",xs="[object DataView]",gs="[object Float32Array]",hs="[object Float64Array]",bs="[object Int8Array]",ys="[object Int16Array]",vs="[object Int32Array]",js="[object Uint8Array]",Ts="[object Uint8ClampedArray]",Os="[object Uint16Array]",As="[object Uint32Array]";function _s(t,e,r){var o=t.constructor;switch(e){case cs:return q(t);case ss:case is:return new o(+t);case xs:return rr(t,r);case gs:case hs:case bs:case ys:case vs:case js:case Ts:case Os:case As:return ir(t,r);case ns:return new o;case ps:case ls:return new o(t);case us:return or(t);case ms:return new o;case ds:return sr(t)}}var nr=_s;function Ss(t){return typeof t.constructor=="function"&&!N(t)?$t(V(t)):{}}var pr=Ss;var Is="[object Map]";function ws(t){return x(t)&&z(t)==Is}var ur=ws;var mr=O&&O.isMap,Ps=mr?F(mr):ur,lr=Ps;var Cs="[object Set]";function Es(t){return x(t)&&z(t)==Cs}var dr=Es;var cr=O&&O.isSet,Ls=cr?F(cr):dr,xr=Ls;var Bs=1,Ms=2,Ns=4,gr="[object Arguments]",Fs="[object Array]",Ds="[object Boolean]",Rs="[object Date]",Ws="[object Error]",hr="[object Function]",Us="[object GeneratorFunction]",Gs="[object Map]",Vs="[object Number]",br="[object Object]",Ks="[object RegExp]",ks="[object Set]",zs="[object String]",qs="[object Symbol]",Hs="[object WeakMap]",$s="[object ArrayBuffer]",Js="[object DataView]",Xs="[object Float32Array]",Ys="[object Float64Array]",Zs="[object Int8Array]",Qs="[object Int16Array]",ti="[object Int32Array]",ei="[object Uint8Array]",ri="[object Uint8ClampedArray]",oi="[object Uint16Array]",ai="[object Uint32Array]",n={};n[gr]=n[Fs]=n[$s]=n[Js]=n[Ds]=n[Rs]=n[Xs]=n[Ys]=n[Zs]=n[Qs]=n[ti]=n[Gs]=n[Vs]=n[br]=n[Ks]=n[ks]=n[zs]=n[qs]=n[ei]=n[ri]=n[oi]=n[ai]=!0;n[Ws]=n[hr]=n[Hs]=!1;function yt(t,e,r,o,a,f){var s,i=e&Bs,u=e&Ms,d=e&Ns;if(r&&(s=a?r(t,o,a,f):r(t)),s!==void 0)return s;if(!c(t))return t;var H=M(t);if(H){if(s=er(t),!i)return Jt(t,s)}else{var b=z(t),L=b==hr||b==Us;if(pt(t))return Ke(t,i);if(b==br||b==gr||L&&!a){if(s=u||L?{}:pr(t),!i)return u?He(t,Re(s,t)):qe(t,De(s,t))}else{if(!n[b])return a?t:{};s=nr(t,b,i)}}f||(f=new Fe);var B=f.get(t);if(B)return B;f.set(t,s),xr(t)?t.forEach(function(v){s.add(yt(v,e,r,v,t,f))}):lr(t)&&t.forEach(function(v,y){s.set(y,yt(v,e,r,y,t,f))});var Tt=d?u?Je:$e:u?R:D,Z=H?void 0:Tt(t);return Xt(Z||t,function(v,y){Z&&(y=v,v=t[y]),st(s,y,yt(v,e,r,y,t,f))}),s}var yr=yt;var fi=1,si=4;function ii(t){return yr(t,fi|si)}var vt=ii;var ni=function(){return m.Date.now()},jt=ni;var pi="Expected a function",ui=Math.max,mi=Math.min;function li(t,e,r){var o,a,f,s,i,u,d=0,H=!1,b=!1,L=!0;if(typeof t!="function")throw new TypeError(pi);e=At(e)||0,c(r)&&(H=!!r.leading,b="maxWait"in r,f=b?ui(At(r.maxWait)||0,e):f,L="trailing"in r?!!r.trailing:L);function B(l){var _=o,$=a;return o=a=void 0,d=l,s=t.apply($,_),s}function Tt(l){return d=l,i=setTimeout(y,e),H?B(l):s}function Z(l){var _=l-u,$=l-d,Mt=e-_;return b?mi(Mt,f-$):Mt}function v(l){var _=l-u,$=l-d;return u===void 0||_>=e||_<0||b&&$>=f}function y(){var l=jt();if(v(l))return Bt(l);i=setTimeout(y,Z(l))}function Bt(l){return i=void 0,L&&o?B(l):(o=a=void 0,s)}function vr(){i!==void 0&&clearTimeout(i),d=0,o=u=a=i=void 0}function jr(){return i===void 0?s:Bt(jt())}function Ot(){var l=jt(),_=v(l);if(o=arguments,a=this,u=l,_){if(i===void 0)return Tt(u);if(b)return clearTimeout(i),i=setTimeout(y,e),B(u)}return i===void 0&&(i=setTimeout(y,e)),s}return Ot.cancel=vr,Ot.flush=jr,Ot}var Et=li;var Y=class{init(){}constructor(e,r){}};var Lt=class extends Y{constructor(){super(...arguments);Q(this,"Vue");Q(this,"projects");Q(this,"state",null)}bindProjectState(r){let o={component:null,componentKey:null,autoRequire:!0,read:!0,write:!0,throttle:{wait:200,maxWait:2e3,leading:!1,trailing:!0},...r};return Promise.resolve().then(()=>Promise.all([this.getProjectState({autoRequire:o.autoRequire}),(()=>{if(!o.componentKey){for(let a=0;a<50;a++){let f=`terafy_${a}`;if(!Object.hasOwnProperty(o.component,f)){o.componentKey=f;return}}throw new Error("Unable to find unique key to allocate against Vue2 component")}})()])).then(([a])=>{this.debug("INFO",2,"Got project snapshot",a);let f=this.Vue.observable(a);if(o.component[o.componentKey]=f,o.read&&this.events.on(`update:projects/${f.id}`,s=>{var i;(i=s==null?void 0:s.lastPatch)!=null&&i.session&&s.lastPatch.session==this.settings.session||(this.debug("INFO",5,"Update Vue2 Remote->Local",{new:s,old:f}),this.merge(f,s))}),o.write){if(!o.component)throw new Error("bindProjectState requires a VueComponent specified as `component`");let s=vt(a),i=u=>{this.debug("INFO",5,"Update Vue2 Local->Remote",{new:u,old:s}),this.createProjectStatePatch(u,s),s=vt(a)};o.component.$watch(o.componentKey,o.throttle?Et(i,o.throttle.wait,o.throttle):i,{deep:!0})}return f})}merge(r,...o){return o.forEach(a=>Object.keys(a).forEach(f=>{Pt(a[f])?(f in r||this.Vue.set(r,f,{}),this.merge(r[f],a[f])):this.Vue.set(r,f,a[f])})),r}init(r){let o={app:null,Vue:null,globalName:"$tera",requireProject:!0,subscribeState:!0,subscribeProjects:!0,stateOptions:{read:!0,write:!0},...r};if(!o.Vue)throw new Error("Vue instance to use must be specified in init options as `Vue`");if(this.Vue=r.Vue,!this.settings.app)throw new Error("Need to specify the root level Vue2 app during init");return o.stateOptions.app=this.settings.app,this.projects=this.Vue.observable([]),o.globalName&&(this.Vue.prototype[o.globalName]=this),this.state=null,Promise.resolve().then(()=>o.requireProject&&this.requireProject()).then(()=>Promise.all([o.subscribeState&&this.bindProjectState({...o.stateOptions,component:this.settings.app.$root}).then(a=>this.state=a).then(()=>this.debug("INFO",1,"Loaded initial project state",this.state)),o.subscribeProjects&&this.getProjects().then(a=>this.projects=this.Vue.observable(a)).then(()=>this.debug("INFO",2,"Loaded project list",this.projects))])).then(()=>this.debug("INFO",1,"Ready"))}};export{Lt as default};
/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
