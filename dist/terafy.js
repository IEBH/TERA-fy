var an=typeof global=="object"&&global&&global.Object===Object&&global,Re=an;var ln=typeof self=="object"&&self&&self.Object===Object&&self,cn=Re||ln||Function("return this")(),h=cn;var fn=h.Symbol,A=fn;var Lt=Object.prototype,un=Lt.hasOwnProperty,pn=Lt.toString,Oe=A?A.toStringTag:void 0;function dn(e){var t=un.call(e,Oe),r=e[Oe];try{e[Oe]=void 0;var o=!0}catch{}var n=pn.call(e);return o&&(t?e[Oe]=r:delete e[Oe]),n}var Ut=dn;var mn=Object.prototype,hn=mn.toString;function gn(e){return hn.call(e)}var Bt=gn;var yn="[object Null]",_n="[object Undefined]",Ht=A?A.toStringTag:void 0;function xn(e){return e==null?e===void 0?_n:yn:Ht&&Ht in Object(e)?Ut(e):Bt(e)}var k=xn;function vn(e){return e!=null&&typeof e=="object"}var D=vn;var En=Array.isArray,ne=En;function bn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var C=bn;var Nn="[object AsyncFunction]",On="[object Function]",wn="[object GeneratorFunction]",Tn="[object Proxy]";function Dn(e){if(!C(e))return!1;var t=k(e);return t==On||t==wn||t==Nn||t==Tn}var Ie=Dn;var Cn=h["__core-js_shared__"],je=Cn;var Kt=function(){var e=/[^.]+$/.exec(je&&je.keys&&je.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Vn(e){return!!Kt&&Kt in e}var Wt=Vn;var An=Function.prototype,kn=An.toString;function Pn(e){if(e!=null){try{return kn.call(e)}catch{}try{return e+""}catch{}}return""}var P=Pn;var Sn=/[\\^$.*+?()[\]{}|]/g,Rn=/^\[object .+?Constructor\]$/,In=Function.prototype,jn=Object.prototype,Mn=In.toString,Fn=jn.hasOwnProperty,$n=RegExp("^"+Mn.call(Fn).replace(Sn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ln(e){if(!C(e)||Wt(e))return!1;var t=Ie(e)?$n:Rn;return t.test(P(e))}var zt=Ln;function Un(e,t){return e?.[t]}var qt=Un;function Bn(e,t){var r=qt(e,t);return zt(r)?r:void 0}var x=Bn;var Hn=x(h,"WeakMap"),Me=Hn;var Yt=Object.create,Kn=function(){function e(){}return function(t){if(!C(t))return{};if(Yt)return Yt(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Jt=Kn;function Wn(e,t){var r=-1,o=e.length;for(t||(t=Array(o));++r<o;)t[r]=e[r];return t}var Gt=Wn;var zn=function(){try{var e=x(Object,"defineProperty");return e({},"",{}),e}catch{}}(),gt=zn;function qn(e,t){for(var r=-1,o=e==null?0:e.length;++r<o&&t(e[r],r,e)!==!1;);return e}var Xt=qn;var Yn=9007199254740991,Jn=/^(?:0|[1-9]\d*)$/;function Gn(e,t){var r=typeof e;return t=t??Yn,!!t&&(r=="number"||r!="symbol"&&Jn.test(e))&&e>-1&&e%1==0&&e<t}var Zt=Gn;function Xn(e,t,r){t=="__proto__"&&gt?gt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Fe=Xn;function Zn(e,t){return e===t||e!==e&&t!==t}var $e=Zn;var Qn=Object.prototype,es=Qn.hasOwnProperty;function ts(e,t,r){var o=e[t];(!(es.call(e,t)&&$e(o,r))||r===void 0&&!(t in e))&&Fe(e,t,r)}var Le=ts;function rs(e,t,r,o){var n=!r;r||(r={});for(var s=-1,i=t.length;++s<i;){var a=t[s],m=o?o(r[a],e[a],a,r,e):void 0;m===void 0&&(m=e[a]),n?Fe(r,a,m):Le(r,a,m)}return r}var $=rs;var os=9007199254740991;function ns(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=os}var Ue=ns;function ss(e){return e!=null&&Ue(e.length)&&!Ie(e)}var Be=ss;var is=Object.prototype;function as(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||is;return e===r}var se=as;function ls(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}var Qt=ls;var cs="[object Arguments]";function fs(e){return D(e)&&k(e)==cs}var yt=fs;var er=Object.prototype,us=er.hasOwnProperty,ps=er.propertyIsEnumerable,ds=yt(function(){return arguments}())?yt:function(e){return D(e)&&us.call(e,"callee")&&!ps.call(e,"callee")},tr=ds;function ms(){return!1}var rr=ms;var sr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,or=sr&&typeof module=="object"&&module&&!module.nodeType&&module,hs=or&&or.exports===sr,nr=hs?h.Buffer:void 0,gs=nr?nr.isBuffer:void 0,ys=gs||rr,He=ys;var _s="[object Arguments]",xs="[object Array]",vs="[object Boolean]",Es="[object Date]",bs="[object Error]",Ns="[object Function]",Os="[object Map]",ws="[object Number]",Ts="[object Object]",Ds="[object RegExp]",Cs="[object Set]",Vs="[object String]",As="[object WeakMap]",ks="[object ArrayBuffer]",Ps="[object DataView]",Ss="[object Float32Array]",Rs="[object Float64Array]",Is="[object Int8Array]",js="[object Int16Array]",Ms="[object Int32Array]",Fs="[object Uint8Array]",$s="[object Uint8ClampedArray]",Ls="[object Uint16Array]",Us="[object Uint32Array]",p={};p[Ss]=p[Rs]=p[Is]=p[js]=p[Ms]=p[Fs]=p[$s]=p[Ls]=p[Us]=!0;p[_s]=p[xs]=p[ks]=p[vs]=p[Ps]=p[Es]=p[bs]=p[Ns]=p[Os]=p[ws]=p[Ts]=p[Ds]=p[Cs]=p[Vs]=p[As]=!1;function Bs(e){return D(e)&&Ue(e.length)&&!!p[k(e)]}var ir=Bs;function Hs(e){return function(t){return e(t)}}var ie=Hs;var ar=typeof exports=="object"&&exports&&!exports.nodeType&&exports,we=ar&&typeof module=="object"&&module&&!module.nodeType&&module,Ks=we&&we.exports===ar,_t=Ks&&Re.process,Ws=function(){try{var e=we&&we.require&&we.require("util").types;return e||_t&&_t.binding&&_t.binding("util")}catch{}}(),S=Ws;var lr=S&&S.isTypedArray,zs=lr?ie(lr):ir,cr=zs;var qs=Object.prototype,Ys=qs.hasOwnProperty;function Js(e,t){var r=ne(e),o=!r&&tr(e),n=!r&&!o&&He(e),s=!r&&!o&&!n&&cr(e),i=r||o||n||s,a=i?Qt(e.length,String):[],m=a.length;for(var l in e)(t||Ys.call(e,l))&&!(i&&(l=="length"||n&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Zt(l,m)))&&a.push(l);return a}var Ke=Js;function Gs(e,t){return function(r){return e(t(r))}}var We=Gs;var Xs=We(Object.keys,Object),fr=Xs;var Zs=Object.prototype,Qs=Zs.hasOwnProperty;function ei(e){if(!se(e))return fr(e);var t=[];for(var r in Object(e))Qs.call(e,r)&&r!="constructor"&&t.push(r);return t}var ur=ei;function ti(e){return Be(e)?Ke(e):ur(e)}var ae=ti;function ri(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var pr=ri;var oi=Object.prototype,ni=oi.hasOwnProperty;function si(e){if(!C(e))return pr(e);var t=se(e),r=[];for(var o in e)o=="constructor"&&(t||!ni.call(e,o))||r.push(o);return r}var dr=si;function ii(e){return Be(e)?Ke(e,!0):dr(e)}var le=ii;var ai=x(Object,"create"),R=ai;function li(){this.__data__=R?R(null):{},this.size=0}var mr=li;function ci(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var hr=ci;var fi="__lodash_hash_undefined__",ui=Object.prototype,pi=ui.hasOwnProperty;function di(e){var t=this.__data__;if(R){var r=t[e];return r===fi?void 0:r}return pi.call(t,e)?t[e]:void 0}var gr=di;var mi=Object.prototype,hi=mi.hasOwnProperty;function gi(e){var t=this.__data__;return R?t[e]!==void 0:hi.call(t,e)}var yr=gi;var yi="__lodash_hash_undefined__";function _i(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=R&&t===void 0?yi:t,this}var _r=_i;function ce(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}ce.prototype.clear=mr;ce.prototype.delete=hr;ce.prototype.get=gr;ce.prototype.has=yr;ce.prototype.set=_r;var xt=ce;function xi(){this.__data__=[],this.size=0}var xr=xi;function vi(e,t){for(var r=e.length;r--;)if($e(e[r][0],t))return r;return-1}var L=vi;var Ei=Array.prototype,bi=Ei.splice;function Ni(e){var t=this.__data__,r=L(t,e);if(r<0)return!1;var o=t.length-1;return r==o?t.pop():bi.call(t,r,1),--this.size,!0}var vr=Ni;function Oi(e){var t=this.__data__,r=L(t,e);return r<0?void 0:t[r][1]}var Er=Oi;function wi(e){return L(this.__data__,e)>-1}var br=wi;function Ti(e,t){var r=this.__data__,o=L(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}var Nr=Ti;function fe(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}fe.prototype.clear=xr;fe.prototype.delete=vr;fe.prototype.get=Er;fe.prototype.has=br;fe.prototype.set=Nr;var U=fe;var Di=x(h,"Map"),B=Di;function Ci(){this.size=0,this.__data__={hash:new xt,map:new(B||U),string:new xt}}var Or=Ci;function Vi(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var wr=Vi;function Ai(e,t){var r=e.__data__;return wr(t)?r[typeof t=="string"?"string":"hash"]:r.map}var H=Ai;function ki(e){var t=H(this,e).delete(e);return this.size-=t?1:0,t}var Tr=ki;function Pi(e){return H(this,e).get(e)}var Dr=Pi;function Si(e){return H(this,e).has(e)}var Cr=Si;function Ri(e,t){var r=H(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}var Vr=Ri;function ue(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}ue.prototype.clear=Or;ue.prototype.delete=Tr;ue.prototype.get=Dr;ue.prototype.has=Cr;ue.prototype.set=Vr;var Ar=ue;function Ii(e,t){for(var r=-1,o=t.length,n=e.length;++r<o;)e[n+r]=t[r];return e}var ze=Ii;var ji=We(Object.getPrototypeOf,Object),qe=ji;function Mi(){this.__data__=new U,this.size=0}var kr=Mi;function Fi(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Pr=Fi;function $i(e){return this.__data__.get(e)}var Sr=$i;function Li(e){return this.__data__.has(e)}var Rr=Li;var Ui=200;function Bi(e,t){var r=this.__data__;if(r instanceof U){var o=r.__data__;if(!B||o.length<Ui-1)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ar(o)}return r.set(e,t),this.size=r.size,this}var Ir=Bi;function pe(e){var t=this.__data__=new U(e);this.size=t.size}pe.prototype.clear=kr;pe.prototype.delete=Pr;pe.prototype.get=Sr;pe.prototype.has=Rr;pe.prototype.set=Ir;var jr=pe;function Hi(e,t){return e&&$(t,ae(t),e)}var Mr=Hi;function Ki(e,t){return e&&$(t,le(t),e)}var Fr=Ki;var Br=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$r=Br&&typeof module=="object"&&module&&!module.nodeType&&module,Wi=$r&&$r.exports===Br,Lr=Wi?h.Buffer:void 0,Ur=Lr?Lr.allocUnsafe:void 0;function zi(e,t){if(t)return e.slice();var r=e.length,o=Ur?Ur(r):new e.constructor(r);return e.copy(o),o}var Hr=zi;function qi(e,t){for(var r=-1,o=e==null?0:e.length,n=0,s=[];++r<o;){var i=e[r];t(i,r,e)&&(s[n++]=i)}return s}var Kr=qi;function Yi(){return[]}var Ye=Yi;var Ji=Object.prototype,Gi=Ji.propertyIsEnumerable,Wr=Object.getOwnPropertySymbols,Xi=Wr?function(e){return e==null?[]:(e=Object(e),Kr(Wr(e),function(t){return Gi.call(e,t)}))}:Ye,de=Xi;function Zi(e,t){return $(e,de(e),t)}var zr=Zi;var Qi=Object.getOwnPropertySymbols,ea=Qi?function(e){for(var t=[];e;)ze(t,de(e)),e=qe(e);return t}:Ye,Je=ea;function ta(e,t){return $(e,Je(e),t)}var qr=ta;function ra(e,t,r){var o=t(e);return ne(e)?o:ze(o,r(e))}var Ge=ra;function oa(e){return Ge(e,ae,de)}var Yr=oa;function na(e){return Ge(e,le,Je)}var Jr=na;var sa=x(h,"DataView"),Xe=sa;var ia=x(h,"Promise"),Ze=ia;var aa=x(h,"Set"),Qe=aa;var Gr="[object Map]",la="[object Object]",Xr="[object Promise]",Zr="[object Set]",Qr="[object WeakMap]",eo="[object DataView]",ca=P(Xe),fa=P(B),ua=P(Ze),pa=P(Qe),da=P(Me),G=k;(Xe&&G(new Xe(new ArrayBuffer(1)))!=eo||B&&G(new B)!=Gr||Ze&&G(Ze.resolve())!=Xr||Qe&&G(new Qe)!=Zr||Me&&G(new Me)!=Qr)&&(G=function(e){var t=k(e),r=t==la?e.constructor:void 0,o=r?P(r):"";if(o)switch(o){case ca:return eo;case fa:return Gr;case ua:return Xr;case pa:return Zr;case da:return Qr}return t});var me=G;var ma=Object.prototype,ha=ma.hasOwnProperty;function ga(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&ha.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var to=ga;var ya=h.Uint8Array,vt=ya;function _a(e){var t=new e.constructor(e.byteLength);return new vt(t).set(new vt(e)),t}var he=_a;function xa(e,t){var r=t?he(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var ro=xa;var va=/\w*$/;function Ea(e){var t=new e.constructor(e.source,va.exec(e));return t.lastIndex=e.lastIndex,t}var oo=Ea;var no=A?A.prototype:void 0,so=no?no.valueOf:void 0;function ba(e){return so?Object(so.call(e)):{}}var io=ba;function Na(e,t){var r=t?he(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var ao=Na;var Oa="[object Boolean]",wa="[object Date]",Ta="[object Map]",Da="[object Number]",Ca="[object RegExp]",Va="[object Set]",Aa="[object String]",ka="[object Symbol]",Pa="[object ArrayBuffer]",Sa="[object DataView]",Ra="[object Float32Array]",Ia="[object Float64Array]",ja="[object Int8Array]",Ma="[object Int16Array]",Fa="[object Int32Array]",$a="[object Uint8Array]",La="[object Uint8ClampedArray]",Ua="[object Uint16Array]",Ba="[object Uint32Array]";function Ha(e,t,r){var o=e.constructor;switch(t){case Pa:return he(e);case Oa:case wa:return new o(+e);case Sa:return ro(e,r);case Ra:case Ia:case ja:case Ma:case Fa:case $a:case La:case Ua:case Ba:return ao(e,r);case Ta:return new o;case Da:case Aa:return new o(e);case Ca:return oo(e);case Va:return new o;case ka:return io(e)}}var lo=Ha;function Ka(e){return typeof e.constructor=="function"&&!se(e)?Jt(qe(e)):{}}var co=Ka;var Wa="[object Map]";function za(e){return D(e)&&me(e)==Wa}var fo=za;var uo=S&&S.isMap,qa=uo?ie(uo):fo,po=qa;var Ya="[object Set]";function Ja(e){return D(e)&&me(e)==Ya}var mo=Ja;var ho=S&&S.isSet,Ga=ho?ie(ho):mo,go=Ga;var Xa=1,Za=2,Qa=4,yo="[object Arguments]",el="[object Array]",tl="[object Boolean]",rl="[object Date]",ol="[object Error]",_o="[object Function]",nl="[object GeneratorFunction]",sl="[object Map]",il="[object Number]",xo="[object Object]",al="[object RegExp]",ll="[object Set]",cl="[object String]",fl="[object Symbol]",ul="[object WeakMap]",pl="[object ArrayBuffer]",dl="[object DataView]",ml="[object Float32Array]",hl="[object Float64Array]",gl="[object Int8Array]",yl="[object Int16Array]",_l="[object Int32Array]",xl="[object Uint8Array]",vl="[object Uint8ClampedArray]",El="[object Uint16Array]",bl="[object Uint32Array]",u={};u[yo]=u[el]=u[pl]=u[dl]=u[tl]=u[rl]=u[ml]=u[hl]=u[gl]=u[yl]=u[_l]=u[sl]=u[il]=u[xo]=u[al]=u[ll]=u[cl]=u[fl]=u[xl]=u[vl]=u[El]=u[bl]=!0;u[ol]=u[_o]=u[ul]=!1;function et(e,t,r,o,n,s){var i,a=t&Xa,m=t&Za,l=t&Qa;if(r&&(i=n?r(e,o,n,s):r(e)),i!==void 0)return i;if(!C(e))return e;var c=ne(e);if(c){if(i=to(e),!a)return Gt(e,i)}else{var g=me(e),b=g==_o||g==nl;if(He(e))return Hr(e,a);if(g==xo||g==yo||b&&!n){if(i=m||b?{}:co(e),!a)return m?qr(e,Fr(i,e)):zr(e,Mr(i,e))}else{if(!u[g])return n?e:{};i=lo(e,g,a)}}s||(s=new jr);var F=s.get(e);if(F)return F;s.set(e,i),go(e)?e.forEach(function(y){i.add(et(y,t,r,y,e,s))}):po(e)&&e.forEach(function(y,_){i.set(_,et(y,t,r,_,e,s))});var re=l?m?Jr:Yr:m?le:ae,oe=c?void 0:re(e);return Xt(oe||e,function(y,_){oe&&(_=y,y=e[_]),Le(i,_,et(y,t,r,_,e,s))}),i}var vo=et;var Nl=1,Ol=4;function wl(e){return vo(e,Nl|Ol)}var Et=wl;var bt=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");function tt(e,t){let r=Object.create(null),o=e.split(",");for(let n=0;n<o.length;n++)r[o[n]]=!0;return t?n=>!!r[n.toLowerCase()]:n=>!!r[n]}var bo={};var ge=()=>{},No=()=>!1;var Oo=(e,t)=>{let r=e.indexOf(t);r>-1&&e.splice(r,1)},Tl=Object.prototype.hasOwnProperty,ye=(e,t)=>Tl.call(e,t),v=Array.isArray,X=e=>rt(e)==="[object Map]",wo=e=>rt(e)==="[object Set]";var N=e=>typeof e=="function",Nt=e=>typeof e=="string",Te=e=>typeof e=="symbol",K=e=>e!==null&&typeof e=="object",To=e=>(K(e)||N(e))&&N(e.then)&&N(e.catch),Dl=Object.prototype.toString,rt=e=>Dl.call(e),Ot=e=>rt(e).slice(8,-1),Do=e=>rt(e)==="[object Object]",ot=e=>Nt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e;var nt=e=>{let t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Cl=/-(\w)/g,Vl=nt(e=>e.replace(Cl,(t,r)=>r?r.toUpperCase():"")),Al=/\B([A-Z])/g,kl=nt(e=>e.replace(Al,"-$1").toLowerCase()),Co=nt(e=>e.charAt(0).toUpperCase()+e.slice(1)),Pl=nt(e=>e?`on${Co(e)}`:""),W=(e,t)=>!Object.is(e,t);var Eo,wt=()=>Eo||(Eo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});var Sl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly";var ah=tt(Sl+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");var Mo;function jl(e,t=Mo){t&&t.active&&t.effects.push(e)}function kt(){return Mo}var Fo=e=>{let t=new Set(e);return t.w=0,t.n=0,t},$o=e=>(e.w&q)>0,Lo=e=>(e.n&q)>0,Ml=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=q},Fl=e=>{let{deps:t}=e;if(t.length){let r=0;for(let o=0;o<t.length;o++){let n=t[o];$o(n)&&!Lo(n)?n.delete(e):t[r++]=n,n.w&=~q,n.n&=~q}t.length=r}},Tt=new WeakMap,De=0,q=1,Dt=30,V,Z=Symbol(""),Ct=Symbol(""),Ce=class{constructor(t,r=null,o){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,jl(this,o)}run(){if(!this.active)return this.fn();let t=V,r=Q;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=V,V=this,Q=!0,q=1<<++De,De<=Dt?Ml(this):Vo(this),this.fn()}finally{De<=Dt&&Fl(this),q=1<<--De,V=this.parent,Q=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){V===this?this.deferStop=!0:this.active&&(Vo(this),this.onStop&&this.onStop(),this.active=!1)}};function Vo(e){let{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}var Q=!0,Uo=[];function ut(){Uo.push(Q),Q=!1}function pt(){let e=Uo.pop();Q=e===void 0?!0:e}function E(e,t,r){if(Q&&V){let o=Tt.get(e);o||Tt.set(e,o=new Map);let n=o.get(r);n||o.set(r,n=Fo()),$l(n,void 0)}}function $l(e,t){let r=!1;De<=Dt?Lo(e)||(e.n|=q,r=!$o(e)):r=!e.has(V),r&&(e.add(V),V.deps.push(e))}function I(e,t,r,o,n,s){let i=Tt.get(e);if(!i)return;let a=[];if(t==="clear")a=[...i.values()];else if(r==="length"&&v(e)){let l=Number(o);i.forEach((c,g)=>{(g==="length"||!Te(g)&&g>=l)&&a.push(c)})}else switch(r!==void 0&&a.push(i.get(r)),t){case"add":v(e)?ot(r)&&a.push(i.get("length")):(a.push(i.get(Z)),X(e)&&a.push(i.get(Ct)));break;case"delete":v(e)||(a.push(i.get(Z)),X(e)&&a.push(i.get(Ct)));break;case"set":X(e)&&a.push(i.get(Z));break}let m=void 0;if(a.length===1)a[0]&&Ao(a[0]);else{let l=[];for(let c of a)c&&l.push(...c);Ao(Fo(l))}}function Ao(e,t){let r=v(e)?e:[...e];for(let o of r)o.computed&&ko(o,t);for(let o of r)o.computed||ko(o,t)}function ko(e,t){(e!==V||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}var Ll=tt("__proto__,__v_isRef,__isVue"),Bo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Te)),Po=Ul();function Ul(){let e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){let o=f(this);for(let s=0,i=this.length;s<i;s++)E(o,"get",s+"");let n=o[t](...r);return n===-1||n===!1?o[t](...r.map(f)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){ut();let o=f(this)[t].apply(this,r);return pt(),o}}),e}function Bl(e){let t=f(this);return E(t,"has",e),t.hasOwnProperty(e)}var ft=class{constructor(t=!1,r=!1){this._isReadonly=t,this._shallow=r}get(t,r,o){let n=this._isReadonly,s=this._shallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return s;if(r==="__v_raw"&&o===(n?s?Ql:Wo:s?Zl:Ko).get(t))return t;let i=v(t);if(!n){if(i&&ye(Po,r))return Reflect.get(Po,r,o);if(r==="hasOwnProperty")return Bl}let a=Reflect.get(t,r,o);return(Te(r)?Bo.has(r):Ll(r))||(n||E(t,"get",r),s)?a:O(a)?i&&ot(r)?a:a.value:K(a)?n?St(a):xe(a):a}},Vt=class extends ft{constructor(t=!1){super(!1,t)}set(t,r,o,n){let s=t[r];if(_e(s)&&O(s)&&!O(o))return!1;if(!this._shallow&&(!Ve(o)&&!_e(o)&&(s=f(s),o=f(o)),!v(t)&&O(s)&&!O(o)))return s.value=o,!0;let i=v(t)&&ot(r)?Number(r)<t.length:ye(t,r),a=Reflect.set(t,r,o,n);return t===f(n)&&(i?W(o,s)&&I(t,"set",r,o,s):I(t,"add",r,o)),a}deleteProperty(t,r){let o=ye(t,r),n=t[r],s=Reflect.deleteProperty(t,r);return s&&o&&I(t,"delete",r,void 0,n),s}has(t,r){let o=Reflect.has(t,r);return(!Te(r)||!Bo.has(r))&&E(t,"has",r),o}ownKeys(t){return E(t,"iterate",v(t)?"length":Z),Reflect.ownKeys(t)}},At=class extends ft{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}},Hl=new Vt,Kl=new At;var Pt=e=>e,dt=e=>Reflect.getPrototypeOf(e);function st(e,t,r=!1,o=!1){e=e.__v_raw;let n=f(e),s=f(t);r||(W(t,s)&&E(n,"get",t),E(n,"get",s));let{has:i}=dt(n),a=o?Pt:r?It:Rt;if(i.call(n,t))return a(e.get(t));if(i.call(n,s))return a(e.get(s));e!==n&&e.get(t)}function it(e,t=!1){let r=this.__v_raw,o=f(r),n=f(e);return t||(W(e,n)&&E(o,"has",e),E(o,"has",n)),e===n?r.has(e):r.has(e)||r.has(n)}function at(e,t=!1){return e=e.__v_raw,!t&&E(f(e),"iterate",Z),Reflect.get(e,"size",e)}function So(e){e=f(e);let t=f(this);return dt(t).has.call(t,e)||(t.add(e),I(t,"add",e,e)),this}function Ro(e,t){t=f(t);let r=f(this),{has:o,get:n}=dt(r),s=o.call(r,e);s||(e=f(e),s=o.call(r,e));let i=n.call(r,e);return r.set(e,t),s?W(t,i)&&I(r,"set",e,t,i):I(r,"add",e,t),this}function Io(e){let t=f(this),{has:r,get:o}=dt(t),n=r.call(t,e);n||(e=f(e),n=r.call(t,e));let s=o?o.call(t,e):void 0,i=t.delete(e);return n&&I(t,"delete",e,void 0,s),i}function jo(){let e=f(this),t=e.size!==0,r=void 0,o=e.clear();return t&&I(e,"clear",void 0,void 0,r),o}function lt(e,t){return function(o,n){let s=this,i=s.__v_raw,a=f(i),m=t?Pt:e?It:Rt;return!e&&E(a,"iterate",Z),i.forEach((l,c)=>o.call(n,m(l),m(c),s))}}function ct(e,t,r){return function(...o){let n=this.__v_raw,s=f(n),i=X(s),a=e==="entries"||e===Symbol.iterator&&i,m=e==="keys"&&i,l=n[e](...o),c=r?Pt:t?It:Rt;return!t&&E(s,"iterate",m?Ct:Z),{next(){let{value:g,done:b}=l.next();return b?{value:g,done:b}:{value:a?[c(g[0]),c(g[1])]:c(g),done:b}},[Symbol.iterator](){return this}}}}function z(e){return function(...t){return e==="delete"?!1:this}}function Wl(){let e={get(s){return st(this,s)},get size(){return at(this)},has:it,add:So,set:Ro,delete:Io,clear:jo,forEach:lt(!1,!1)},t={get(s){return st(this,s,!1,!0)},get size(){return at(this)},has:it,add:So,set:Ro,delete:Io,clear:jo,forEach:lt(!1,!0)},r={get(s){return st(this,s,!0)},get size(){return at(this,!0)},has(s){return it.call(this,s,!0)},add:z("add"),set:z("set"),delete:z("delete"),clear:z("clear"),forEach:lt(!0,!1)},o={get(s){return st(this,s,!0,!0)},get size(){return at(this,!0)},has(s){return it.call(this,s,!0)},add:z("add"),set:z("set"),delete:z("delete"),clear:z("clear"),forEach:lt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=ct(s,!1,!1),r[s]=ct(s,!0,!1),t[s]=ct(s,!1,!0),o[s]=ct(s,!0,!0)}),[e,r,t,o]}var[zl,ql,Yl,Jl]=Wl();function Ho(e,t){let r=t?e?Jl:Yl:e?ql:zl;return(o,n,s)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?o:Reflect.get(ye(r,n)&&n in o?r:o,n,s)}var Gl={get:Ho(!1,!1)};var Xl={get:Ho(!0,!1)};var Ko=new WeakMap,Zl=new WeakMap,Wo=new WeakMap,Ql=new WeakMap;function ec(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tc(e){return e.__v_skip||!Object.isExtensible(e)?0:ec(Ot(e))}function xe(e){return _e(e)?e:zo(e,!1,Hl,Gl,Ko)}function St(e){return zo(e,!0,Kl,Xl,Wo)}function zo(e,t,r,o,n){if(!K(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;let s=n.get(e);if(s)return s;let i=tc(e);if(i===0)return e;let a=new Proxy(e,i===2?o:r);return n.set(e,a),a}function ve(e){return _e(e)?ve(e.__v_raw):!!(e&&e.__v_isReactive)}function _e(e){return!!(e&&e.__v_isReadonly)}function Ve(e){return!!(e&&e.__v_isShallow)}function f(e){let t=e&&e.__v_raw;return t?f(t):e}var Rt=e=>K(e)?xe(e):e,It=e=>K(e)?St(e):e;function O(e){return!!(e&&e.__v_isRef===!0)}var Ae=[];function lc(e,...t){}function cc(){let e=Ae[Ae.length-1];if(!e)return[];let t=[];for(;e;){let r=t[0];r&&r.vnode===e?r.recurseCount++:t.push({vnode:e,recurseCount:0});let o=e.component&&e.component.parent;e=o&&o.vnode}return t}function fc(e){let t=[];return e.forEach((r,o)=>{t.push(...o===0?[]:[`
`],...uc(r))}),t}function uc({vnode:e,recurseCount:t}){let r=t>0?`... (${t} recursive calls)`:"",o=e.component?e.component.parent==null:!1,n=` at <${on(e.component,e.type,o)}`,s=">"+r;return e.props?[n,...pc(e.props),s]:[n+s]}function pc(e){let t=[],r=Object.keys(e);return r.slice(0,3).forEach(o=>{t.push(...Go(o,e[o]))}),r.length>3&&t.push(" ..."),t}function Go(e,t,r){return Nt(t)?(t=JSON.stringify(t),r?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?r?t:[`${e}=${t}`]:O(t)?(t=Go(e,f(t.value),!0),r?t:[`${e}=Ref<`,t,">"]):N(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=f(t),r?t:[`${e}=`,t])}function te(e,t,r,o){let n;try{n=o?e(...o):e()}catch(s){Xo(s,t,r)}return n}function ke(e,t,r,o){if(N(e)){let s=te(e,t,r,o);return s&&To(s)&&s.catch(i=>{Xo(i,t,r)}),s}let n=[];for(let s=0;s<e.length;s++)n.push(ke(e[s],t,r,o));return n}function Xo(e,t,r,o=!0){let n=t?t.vnode:null;if(t){let s=t.parent,i=t.proxy,a=r;for(;s;){let l=s.ec;if(l){for(let c=0;c<l.length;c++)if(l[c](e,i,a)===!1)return}s=s.parent}let m=t.appContext.config.errorHandler;if(m){te(m,null,10,[e,i,a]);return}}dc(e,r,n,o)}function dc(e,t,r,o=!0){console.error(e)}var ht=!1,jt=!1,w=[],Y=0,Ne=[],j=null,ee=0,mc=Promise.resolve(),Zo=null;function hc(e){let t=Y+1,r=w.length;for(;t<r;){let o=t+r>>>1,n=w[o],s=Pe(n);s<e||s===e&&n.pre?t=o+1:r=o}return t}function gc(e){(!w.length||!w.includes(e,ht&&e.allowRecurse?Y+1:Y))&&(e.id==null?w.push(e):w.splice(hc(e.id),0,e),Qo())}function Qo(){!ht&&!jt&&(jt=!0,Zo=mc.then(en))}function yc(e){v(e)?Ne.push(...e):(!j||!j.includes(e,e.allowRecurse?ee+1:ee))&&Ne.push(e),Qo()}function _c(e){if(Ne.length){let t=[...new Set(Ne)];if(Ne.length=0,j){j.push(...t);return}for(j=t,j.sort((r,o)=>Pe(r)-Pe(o)),ee=0;ee<j.length;ee++)j[ee]();j=null,ee=0}}var Pe=e=>e.id==null?1/0:e.id,xc=(e,t)=>{let r=Pe(e)-Pe(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function en(e){jt=!1,ht=!0,w.sort(xc);let t=ge;try{for(Y=0;Y<w.length;Y++){let r=w[Y];r&&r.active!==!1&&te(r,null,14)}}finally{Y=0,w.length=0,_c(e),ht=!1,Zo=null,(w.length||Ne.length)&&en(e)}}var vc=null;function Ec(e,t){t&&t.pendingBranch?v(e)?t.effects.push(...e):t.effects.push(e):yc(e)}var mt={};function tn(e,t,r){return bc(e,t,r)}function bc(e,t,{immediate:r,deep:o,flush:n,onTrack:s,onTrigger:i}=bo){var a;let m=d=>{lc("Invalid watch source: ",d,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},l=kt()===((a=J)==null?void 0:a.scope)?J:null,c,g=!1,b=!1;if(O(e)?(c=()=>e.value,g=Ve(e)):ve(e)?(c=()=>e,o=!0):v(e)?(b=!0,g=e.some(d=>ve(d)||Ve(d)),c=()=>e.map(d=>{if(O(d))return d.value;if(ve(d))return be(d);if(N(d))return te(d,l,2)})):N(e)?t?c=()=>te(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return F&&F(),ke(e,l,3,[re])}:c=ge,t&&o){let d=c;c=()=>be(d())}let F,re=d=>{F=T.onStop=()=>{te(d,l,4)}},oe;if(rn)if(re=ge,t?r&&ke(t,l,3,[c(),b?[]:void 0,re]):c(),n==="sync"){let d=Pc();oe=d.__watcherHandles||(d.__watcherHandles=[])}else return ge;let y=b?new Array(e.length).fill(mt):mt,_=()=>{if(T.active)if(t){let d=T.run();(o||g||(b?d.some((nn,sn)=>W(nn,y[sn])):W(d,y)))&&(F&&F(),ke(t,l,3,[d,y===mt?void 0:b&&y[0]===mt?[]:y,re]),y=d)}else T.run()};_.allowRecurse=!!t;let Se;n==="sync"?Se=_:n==="post"?Se=()=>Yo(_,l&&l.suspense):(_.pre=!0,l&&(_.id=l.uid),Se=()=>gc(_));let T=new Ce(c,Se);t?r?_():y=T.run():n==="post"?Yo(T.run.bind(T),l&&l.suspense):T.run();let $t=()=>{T.stop(),l&&l.scope&&Oo(l.scope.effects,T)};return oe&&oe.push($t),$t}function be(e,t){if(!K(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),O(e))be(e.value,t);else if(v(e))for(let r=0;r<e.length;r++)be(e[r],t);else if(wo(e)||X(e))e.forEach(r=>{be(r,t)});else if(Do(e))for(let r in e)be(e[r],t);return e}var Lh=Symbol("_leaveCb"),Uh=Symbol("_enterCb");function Nc(e,t,r=J,o=!1){if(r){let n=r[e]||(r[e]=[]),s=t.__weh||(t.__weh=(...i)=>{if(r.isUnmounted)return;ut(),Tc(r);let a=ke(t,r,e,i);return Dc(),pt(),a});return o?n.unshift(s):n.push(s),s}}var M=e=>(t,r=J)=>(!rn||e==="sp")&&Nc(e,(...o)=>t(...o),r),Bh=M("bm"),Hh=M("m"),Kh=M("bu"),Wh=M("u"),zh=M("bum"),qh=M("um"),Yh=M("sp"),Jh=M("rtg"),Gh=M("rtc");var Xh=Symbol.for("v-ndc");function Oc(){return{app:null,config:{isNativeTag:No,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}var qo=null;function wc(e,t,r=!1){let o=J||vc;if(o||qo){let n=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:qo._context.provides;if(n&&e in n)return n[e];if(arguments.length>1)return r&&N(t)?t.call(o&&o.proxy):t}}var Yo=Ec;var Zh=Symbol.for("v-fgt"),Qh=Symbol.for("v-txt"),eg=Symbol.for("v-cmt"),tg=Symbol.for("v-stc");var rg=Oc();var J=null;var Mt,Ee,Jo="__VUE_INSTANCE_SETTERS__";(Ee=wt()[Jo])||(Ee=wt()[Jo]=[]),Ee.push(e=>J=e),Mt=e=>{Ee.length>1?Ee.forEach(t=>t(e)):Ee[0](e)};var Tc=e=>{Mt(e),e.scope.on()},Dc=()=>{J&&J.scope.off(),Mt(null)};var rn=!1;var Cc=/(?:^|[-_])(\w)/g,Vc=e=>e.replace(Cc,t=>t.toUpperCase()).replace(/[-_]/g,"");function Ac(e,t=!0){return N(e)?e.displayName||e.name:e.name||t&&e.__name}function on(e,t,r=!1){let o=Ac(t);if(!o&&t.__file){let n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(o=n[1])}if(!o&&e&&e.parent){let n=s=>{for(let i in s)if(s[i]===t)return i};o=n(e.components||e.parent.type.components)||n(e.appContext.components)}return o?Vc(o):r?"App":"Anonymous"}var kc=Symbol.for("v-scx"),Pc=()=>{{let e=wc(kc);return e}};var Ft=class{settings={devMode:!0,siteUrl:"http://localhost:5173/embed",restrictOrigin:"*"};dom={el:null,iframe:null,stylesheet:null};methods=["handshake","getUser","bindProject","getProject","getProjects","setActiveProject","requireProject","selectProject","getProjectStateSnapshot","applyProjectStatePatch","getProjectLibrary","setProjectLibrary"];send(t){let r=bt();return this.acceptPostboxes[r]={},this.acceptPostboxes[r].promise=new Promise((o,n)=>{Object.assign(this.acceptPostboxes[r],{resolve:o,reject:n}),this.sendRaw({id:r,...t})}),this.acceptPostboxes[r].promise}sendRaw(t){this.dom.iframe.contentWindow.postMessage({TERA:1,id:t.id||bt(),...Et(t)},this.settings.restrictOrigin)}rpc(t,...r){return this.send({action:"rpc",method:t,args:r})}acceptMessage(t){let r=t.data;if(!(!r.TERA||!r.id))if(this.debug("Recieved",r),r?.action=="response"&&this.acceptPostboxes[r.id])r.isError===!0?this.acceptPostboxes[r.id].reject(r.response):this.acceptPostboxes[r.id].resolve(r.response);else{if(r?.action=="rpc")return Promise.resolve().then(()=>this[r.method].apply(this,r.args)).then(o=>this.sendRaw({id:r.id,action:"response",response:o})).catch(o=>{console.warn(`TERA-FY client threw on RPC:${r.method}:`,o),this.sendRaw({id:r.id,action:"response",isError:!0,response:o.toString()})});r?.id?this.debug(`Ignoring message ID ${r.id} - was meant for someone else?`):this.debug("Unexpected incoming TERA-FY CLIENT message",{message:r})}}acceptPostboxes={};constructor(t){Object.assign(this.settings,t)}toggleDevMode(t="toggle"){return this.settings.devMode=t==="toggle"?!this.settings.devMode:t,this.dom.el.classList.toggle("dev-mode",this.settings.devMode),this}init(){window.addEventListener("message",this.acceptMessage.bind(this)),this.injectMain(),this.injectStylesheet(),this.injectMethods()}injectMain(){this.dom.el=document.createElement("div"),this.dom.el.id="tera-fy",this.dom.el.classList.toggle("dev-mode",this.settings.devMode),document.body.append(this.dom.el),this.dom.iframe=document.createElement("iframe"),this.dom.iframe.setAttribute("sandbox","allow-downloads allow-scripts allow-same-origin"),this.dom.iframe.addEventListener("load",()=>{this.debug("TERA EMBED FRAME READY")}),this.dom.iframe.src=this.settings.siteUrl,this.dom.el.append(this.dom.iframe)}injectStylesheet(){this.dom.stylesheet=document.createElement("style"),this.dom.stylesheet.innerHTML=[":root {","--TERA-accent: #4d659c;","}","#tera-fy {","display: none;","position: fixed;","right: 50px;","bottom: 50px;","width: 300px;","height: 150px;","background: transparent;","&.dev-mode {","display: flex;","border: 5px solid var(--TERA-accent);","background: #FFF;","}","& > iframe {","width: 100%;","height: 100%;","}","}","body.tera-fy-focus {","overflow: hidden;","& #tera-fy {","display: flex !important;","position: fixed !important;","top: 0px !important;","width: 100vw !important;","height: 100vh !important;","left: 0px !important;","z-index: 10000 !important;","}","}"].join(`
`),document.head.appendChild(this.dom.stylesheet)}injectMethods(){this.methods.forEach(t=>this[t]=this.rpc.bind(this,t))}debug(...t){this.settings.devMode&&console.log("%c[TERA-FY CLIENT]","font-weight: bold; color: #ff5722;",...t)}bindProjectState(t){let r={autoRequire:!0,write:!0,...t};return Promise.resolve().then(()=>r.autoRequire&&this.requireProject()).then(()=>this.getProjectStateSnapshot({autoRequire:!1,paths:r.paths})).then(o=>{let n=xe(o);return r.write&&tn(n,(s,i)=>{let a=a(s,i);this.debug("APPLY DIFF",a),this.applyProjectStatePatch(a)},{deep:!0}),n})}toggleFocus(t="toggle"){this.debug("Request focus",{isFocused:t}),globalThis.document.body.classList.toggle("tera-fy-focus",t==="toggle"?void 0:t)}};export{Ft as default};
/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

@vue/runtime-core/dist/runtime-core.esm-bundler.js:
  (*! #__NO_SIDE_EFFECTS__ *)

@vue/runtime-core/dist/runtime-core.esm-bundler.js:
  (*! #__NO_SIDE_EFFECTS__ *)
*/
//# sourceMappingURL=terafy.js.map
